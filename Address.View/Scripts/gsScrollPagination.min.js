(function(a){var b={init:function(d){var b={url:"",currentPage:1,totalResults:100,perPage:25,pagerVar:"p",container:"body",outerHeightItemInPage:40,range:5,loaderImgPath:"http://rs.golden.net.vn/icon/pleasewait.gif"};d&&a.extend(b,d);b.container=b.container!=""?b.container:"body";b.outerHeightItemInPage=b.outerHeightItemInPage!=""?b.outerHeightItemInPage:40;var c=false;return this.each(function(){var d=a(this),h=d.height(),g,e,f;d.scrollTop(0);d.append("<div class='pleaseWait' style='display: none; width: 100%; text-align: center;'><img alt='loading...' src='"+b.loaderImgPath+"'></img></div>");d.scroll(function(){e=d.scrollTop();g=b.outerHeightItemInPage*b.perPage*b.currentPage;f=g-h;if(b.currentPage>=0&&b.perPage*(b.currentPage+1)<b.totalResults&&!c&&e>=f-b.range&&e<=f+b.range){c=true;if(b.url=="")b.url=window.location+(window.location.search!=""?"&":"?")+b.pagerVar+"="+(b.currentPage+1);d.find("div.pleaseWait").show();a.ajax({type:"GET",url:b.url,cache:false,dataType:"html",data:b.pagerVar+"="+(b.currentPage+1),success:function(c){c=a.trim(c);if(c){d.find(b.container).append(c);b.currentPage++}},complete:function(){c=false;d.find("div.pleaseWait").hide()}})}})})}};a.fn.gsScrollPagination=function(c){if(b[c])return b[c].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof c==="object"||!c)return b.init.apply(this,arguments);else a.error("Method "+c+" does not exist on jQuery.gsScrollPagination")}})(jQuery)